---
permalink: /dynamics-and-extension-methods/index.html
layout: post
title: Dynamics and Extension Methods
published: true
categories:
- DynamicsCRM
- Work
---
Filed under: I should have thought of this months ago...<p /><div>This is a particularly geeky post, mostly for the benefit of a work college (hi Caroline!) who&#39;s going to start seeing this appearing in some of our code base, but I thought it might appeal to some other people as well.</div> <p /><div>When coding against Microsoft Dynamics CRM 4.0, it&#39;s frequent that you end up having to use &#39;Dynamic Entities&#39; (mostly for custom data types you&#39;ve added to the system). You basically get access to these as a hash table with string key in your code, e.g.:</div> <p /><div>    object personName = dynamicEntity[&quot;ccc_personname&quot;];</div><p /><div>Great, except the compiler doesn&#39;t know the type of personName. So:</div><p /><div>    string personName = (string)dynamicEntity[&quot;ccc_personname&quot;];</div> <p /><div>Except that for everything apart from strings, the Dynamic SDK wraps values in a property type:</div><p /><div>    bool personNice = ((CrmBoolean)dynamicEntity[&quot;ccc_personnice&quot;]).Value;</div> <p /><div>Except that CrmBoolean can be null, but isn&#39;t Nullable. There are also other fiddly details to account for. It all gets pretty verbose, pretty annoying, and very error prone very quickly.</div><p /><div>So, without further ado: DynamicEntity extension methods that return a strongly typed result, and play nicely with the ?? operator.</div><p /><div><script src="https://gist.github.com/996859.js"></script></div>
