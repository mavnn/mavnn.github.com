<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 15below | Mavnn's blog]]></title>
  <link href="http://blog.mavnn.co.uk/blog/categories/15below/atom.xml" rel="self"/>
  <link href="http://blog.mavnn.co.uk/"/>
  <updated>2016-01-19T12:16:05+00:00</updated>
  <id>http://blog.mavnn.co.uk/</id>
  <author>
    <name><![CDATA[mavnn]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Beginnings and Endings]]></title>
    <link href="http://blog.mavnn.co.uk/beginnings-and-endings/"/>
    <updated>2015-11-26T12:02:10+00:00</updated>
    <id>http://blog.mavnn.co.uk/beginnings-and-endings</id>
    <content type="html"><![CDATA[<p>There&rsquo;s the normal mix of excitement and sadness as I announce that today is my last day with my current employers, <a href="http://www.15below.com">15below</a>.</p>

<p>Sadness because the people here are great and I&rsquo;ve learned an unbelievable amount while working here. Excitement because there&rsquo;s
exciting things happening for the future. What are these brave new vistas? Well, that will have to wait for next week.</p>

<p>But for now, it&rsquo;s time for a brief thank you and review of what I&rsquo;m leaving.</p>

<p>Thanks 15below for:</p>

<ul>
<li>being an incredibly flexible, generous &amp; family friendly employer</li>
<li>Lots and lots of learning from existing code, conversations, other people delivering internal training, <a href="https://twitter.com/15below_travel/status/340475764677951488">letting me invite external speakers</a>, and the rest</li>
<li>releasing some open source, even while in an &ldquo;enterprise&rdquo; market: <a href="https://github.com/15below/">github</a></li>
<li>letting me <a href="http://blog.mavnn.co.uk/keeping-up-with-the-latest-hammer/">coordinate the internal developer education</a></li>
<li>sponsoring a <a href="http://blog.mavnn.co.uk/functional-programming-in-an-imperitive-world/">bunch</a> <a href="http://blog.mavnn.co.uk/sdd-conf-2015/">of</a>
<a href="http://blog.mavnn.co.uk/lambdacon-2015/">conference</a> speaking (there&rsquo;s more!)</li>
<li>trusting me to convert the build from msbuild to <a href="https://github.com/fsharp/FAKE">FAKE</a> and kick start the journey to automated deployment (which was a slow and painful one in msbuild world&hellip;)</li>
<li>picking solid, generous people <a href="https://www.facebook.com/15below/posts/829520247132711">as staff</a> &ndash; that&rsquo;s just one example from many, and the company often matches the giving of the staff</li>
</ul>


<p>I&rsquo;m hoping my last piece of work here, converting our main product repository to use <a href="http://fsprojects.github.io/Paket/">Paket</a> rather than nuget for dependency management is a gift that will keep on giving to the rest of the devs; here&rsquo;s to many more years of 15below bringing tech to the travel industry.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RX Solutions]]></title>
    <link href="http://blog.mavnn.co.uk/rx-solutions/"/>
    <updated>2015-02-09T14:15:45+00:00</updated>
    <id>http://blog.mavnn.co.uk/rx-solutions</id>
    <content type="html"><![CDATA[<p>This post contains solutions to the <a href="/exploring-reactive-extensions/">Reactive Extensions practical</a> post.</p>

<!--more-->


<p>The base program looks like this (as in the previous post):</p>

<p>``` csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Reactive;
using System.Reactive.Linq;
using ReactiveTester.Shared;</p>

<p>namespace EventTester
{</p>

<pre><code>class Program
{
    static void Handler(Tuple&lt;Guid, string&gt; tuple)
    {
        Console.WriteLine("{0} - {1}", tuple.Item1, tuple.Item2);
    }

    static void Error(Exception e)
    {
        var err = Console.OpenStandardError();
        using (var writer = new System.IO.StreamWriter(err, Console.OutputEncoding))
        {
            writer.WriteLine("{0}", e);
        }
    }

    static void Main(string[] args)
    {
        // Nice docs (although Java): http://reactivex.io/RxJava/javadoc/rx/Observable.html
        // The challenge:
        // The ChangeReceiver will fire an event every time a change is received.
        // Events can be:
        // "Ignore!" -&gt; don't do anything
        // "Change!" -&gt; send notification to staff and customers
        // "StaffOnly!" -&gt; send notification to staff
        // "CustomerOnly!" -&gt; send notification to customer only
        //
        // Staff must be notified within 3 seconds.
        // Customers most be notified between 5 and 7 seconds.
        using(var pub = new ChangeReceiver("tcp://*:5555"))
        {
            Console.WriteLine("Listening...");

            var staffSender = new NotificationSender("tcp://localhost:5556");
            var customerSender = new NotificationSender("tcp://localhost:5557");

            var obs = Observable.FromEventPattern&lt;Tuple&lt;Guid, string&gt;&gt;(pub, "ChangeRecieved").Select(ep =&gt; ep.EventArgs);
            obs.Subscribe&lt;Tuple&lt;Guid, string&gt;&gt;(Handler);
            obs.Select(t =&gt; t.Item1).Subscribe(guid =&gt; customerSender.Send(guid));

            //var err = Observable.FromEventPattern&lt;Exception&gt;(pub, "OnError").Select(ep =&gt; ep.EventArgs);
            //err.Subscribe&lt;Exception&gt;(Error);

            pub.Start();
            Console.ReadLine();
            Console.WriteLine("Closing down.");
        }
    }
}
</code></pre>

<p>}
```</p>

<p>None of the teams bothered with helper methods or anything refined like that &ndash; they only had about 40 minutes to produce anything it all. So, in each of the following cases, replace line 50 in the original code block with the submitted solution.</p>

<h3>Attempt 1:</h3>

<p>Simple, readable and minimalistic, our first contenders went with this.</p>

<p>``` csharp
obs.Where(t=>t.Item2 == &ldquo;StaffOnly!&rdquo; || t.Item2 == &ldquo;Change!&rdquo;).Select(t => t.Item1).Subscribe(guid => staffSender.Send(guid));</p>

<p>obs.Where(t=>t.Item2 == &ldquo;CustomerOnly!&rdquo; || t.Item2 == &ldquo;Change!&rdquo;).Delay(TimeSpan.FromSeconds(5)).Select(t => t.Item1).Subscribe(guid => customerSender.Send(guid));
```</p>

<p>As you can see, staff are notified immediately on either a <code>StaffOnly!</code> or <code>Change!</code> event &ndash; while customer events are delayed 5 seconds.</p>

<h3>Attempt 2:</h3>

<p>Group 2 played with RX&rsquo;s <code>GroupBy</code> method, which creates an Observable of Observables &ndash; each one of which only gets events that match the partitioning function.</p>

<p>Interesting stuff, although probably slightly overkill with 4 pre-known options.</p>

<p>```csharp
obs.GroupBy(x => x.Item2)</p>

<pre><code>.Subscribe(o =&gt;
{
    o.Where(x =&gt; x.Item2 == "StaffOnly!" || x.Item2 == "Change!")
        .Select(x =&gt; x.Item1)
        .Subscribe(staffSender.Send);
    o.Where(x =&gt; x.Item2 == "CustomerOnly!" || x.Item2 == "Change!")
        .Select(t =&gt; t.Item1)
        .Delay(TimeSpan.FromSeconds(6))
        .Subscribe(customerSender.Send);
});
</code></pre>

<p>```</p>

<p>It also still does the job fine.</p>

<h3>Attempt 3:</h3>

<p>With high points on pragmatism and clarity, group 3 just went with the absolute simplest solution. Just have 4 separate observables:</p>

<p><code>csharp
obs.Where(t =&gt; t.Item2.Equals("StaffOnly!")).Subscribe(staffOnly =&gt; staffSender.Send(staffOnly.Item1));
obs.Where(t =&gt; t.Item2.Equals("CustomerOnly!")).Delay(TimeSpan.FromSeconds(5)).Subscribe(customerOnly =&gt; customerSender.Send(customerOnly.Item1));
obs.Where(t =&gt; t.Item2.Equals("Change!")).Delay(TimeSpan.FromSeconds(5)).Subscribe(s =&gt; customerSender.Send(s.Item1));
obs.Where(t =&gt; t.Item2.Equals("Change!")).Subscribe(s =&gt; staffSender.Send(s.Item1));
</code></p>

<p>There&rsquo;s obviously much more to RX than you can learn in a single 1 hour practical session, but hopefully this gives you a feel and (if you followed along) takes away some of the fear of trying out this useful part of the .net ecosystem.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Exploring Reactive Extensions]]></title>
    <link href="http://blog.mavnn.co.uk/exploring-reactive-extensions/"/>
    <updated>2015-02-09T13:01:36+00:00</updated>
    <id>http://blog.mavnn.co.uk/exploring-reactive-extensions</id>
    <content type="html"><![CDATA[<p>The <a href="http://rx.codeplex.com/">Reactive Extensions</a> project is &ldquo;a library for composing asynchronous and event-based programs using observable sequences and LINQ-style query operators&rdquo;. That doesn&rsquo;t immediately give most people an intuitive grasp of exactly what it is &ndash; but it&rsquo;s a useful addition to the toolset so we put together a practical for people to experiment with.</p>

<p>At it&rsquo;s simplest, RX (as it&rsquo;s called&hellip; the Nuget package you&rsquo;re looking for is <a href="https://www.nuget.org/packages/Rx-Main">Rx-Main</a>, obviously!) allows you to create an <code>IObservable</code> object which you can then&hellip; erm&hellip; observe.</p>

<!--more-->


<p><code>IObservable</code> objects can, in turn, be observed by other <code>IObservable</code>s via a series of extension methods, and they will react when the original observable publishes a change. Hence &ldquo;Reactive Extensions&rdquo;. These extensions include all the normal Linq like things you&rsquo;ve come to know and expect in .net (<code>.Where</code> for filtering, <code>.Select</code> for mapping, etc) and also a selection of time based extensions which are the real meat of the reactive programming model. Things like <code>.Delay</code>, which
holds changes for a period of time before passing them on to subscribers. Or <code>.Throttle</code>, which throttles how quickly events can be passed through, and throws away events that are occurring too rapidly.</p>

<p>The best explanation of the various methods I&rsquo;ve seen is actually the <a href="http://reactivex.io/RxJava/javadoc/">reactivex.io javadocs</a>, which have diagram pictorially depicting the effect of each method. Although it&rsquo;s for Java, the method names are the same. For example, the <a href="http://reactivex.io/RxJava/javadoc/">sample method</a> comes with the following diagram:</p>

<p><img src="https://raw.githubusercontent.com/wiki/ReactiveX/RxJava/images/rx-operators/sample.s.png" alt="Sample method image" /></p>

<p>It shows quite nicely that sample will pick the last event of each interval (if there are any), and publish on only that.</p>

<p>The final part of the puzzle, once you&rsquo;ve done all your filtering, mapping, delaying and sampling is to hook up a Publish callback on your final <code>IObservable</code>.</p>

<p>Let&rsquo;s get to the example code!</p>

<h3>The scenario</h3>

<p>``` csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Reactive;
using System.Reactive.Linq;
using ReactiveTester.Shared;</p>

<p>namespace EventTester
{</p>

<pre><code>class Program
{
    static void Handler(Tuple&lt;Guid, string&gt; tuple)
    {
        Console.WriteLine("{0} - {1}", tuple.Item1, tuple.Item2);
    }

    static void Error(Exception e)
    {
        var err = Console.OpenStandardError();
        using (var writer = new System.IO.StreamWriter(err, Console.OutputEncoding))
        {
            writer.WriteLine("{0}", e);
        }
    }

    static void Main(string[] args)
    {
        // Nice docs (although Java): http://reactivex.io/RxJava/javadoc/rx/Observable.html
        // The challenge:
        // The ChangeReceiver will fire an event every time a change is received.
        // Events can be:
        // "Ignore!" -&gt; don't do anything
        // "Change!" -&gt; send notification to staff and customers
        // "StaffOnly!" -&gt; send notification to staff
        // "CustomerOnly!" -&gt; send notification to customer only
        //
        // Staff must be notified within 3 seconds.
        // Customers most be notified between 5 and 7 seconds.
        using(var pub = new ChangeReceiver("tcp://*:5555"))
        {
            Console.WriteLine("Listening...");

            var staffSender = new NotificationSender("tcp://localhost:5556");
            var customerSender = new NotificationSender("tcp://localhost:5557");

            var obs = Observable.FromEventPattern&lt;Tuple&lt;Guid, string&gt;&gt;(pub, "ChangeRecieved").Select(ep =&gt; ep.EventArgs);
            obs.Subscribe&lt;Tuple&lt;Guid, string&gt;&gt;(Handler);
            obs.Select(t =&gt; t.Item1).Subscribe(guid =&gt; customerSender.Send(guid));

            //var err = Observable.FromEventPattern&lt;Exception&gt;(pub, "OnError").Select(ep =&gt; ep.EventArgs);
            //err.Subscribe&lt;Exception&gt;(Error);

            pub.Start();
            Console.ReadLine();
            Console.WriteLine("Closing down.");
        }
    }
}
</code></pre>

<p>}
```</p>

<p>The challenge was to complete the C# program above.</p>

<p>Want to follow along at home? The <a href="https://github.com/mavnn/RX-Practical">example code is on github</a>. Mind out &ndash; it&rsquo;s a bit big, as I included all of the binaries to get people going faster. The file in question is in the <code>EventTester</code> project as <code>Program.cs</code>.</p>

<p>The other program in the project (<code>ReactiveTester</code>) is test server. Right click on the solution, &ldquo;Set StartUp projects&rdquo; to run both on start up and hit <code>F5</code>. You should get two consoles pop up, something like this:</p>

<p><img src="/images/Reactive1.PNG" alt="/images/Reactive1.PNG" /></p>

<p>What&rsquo;s going on here? Well, as company <a href="http://15below.com">15below</a> deal with travel passenger communications, so the example stays close to home. The &ldquo;server&rdquo; (ReactiveTester, on the right) is masquerading as both an IROP (irregular operations, i.e. your flight has been cancelled due to insufficient chicken sarnies) system and as the staff and travellers who need to be told about events that are happening.</p>

<p>We&rsquo;re skipping any business logic identifying event types here, so for our purposes there are 4 types of events the system can issue.</p>

<ul>
<li>&ldquo;Ignore!&rdquo; &ndash;> we don&rsquo;t care about these</li>
<li>&ldquo;Change!&rdquo; &ndash;> both staff and travellers should be told about these</li>
<li>&ldquo;StaffOnly!&rdquo; &ndash;> only staff need to know about these ones</li>
<li>&ldquo;CustomerOnly!&rdquo; &ndash;> staff don&rsquo;t care about these, only tell the customer</li>
</ul>


<p>Our C# program then has a <code>ChangeReceiver</code> type that fires an event when a change is received, and a <code>NotificationSender</code> type it can use to send notifications out with. In reality, these go back to <code>ReactiveTester</code> that will then tell you if the notification arrived within the allowed window for either customer or staff.</p>

<p>The practical kicked off with the code at the state above. As you can see at line 48 we&rsquo;ve hooked up an observable object to the ChangeReceiver&rsquo;s ChangeReceived event &ndash; now we can observe events. We&rsquo;ve then hooked up a subscriber that fires the <code>Handler</code> method (line 14) which prints all changes to the command line. And a second subscriber that first maps the identifier/message tuple to the identifier and then sends a customer notification.</p>

<p>But wait&hellip;! Our test server keeps on saying &ldquo;Customer: early&rdquo;? And &ldquo;No guid xxx found&rdquo;? What gives?</p>

<p>Well&hellip; most travel companies are very keen for their staff to know about service alterations before customers. So the requirements we&rsquo;ve been given are that staff should be notified within 3 seconds &ndash; but customers only between 5 and 7 seconds. (In real life, these timings would probably be in minutes, obviously).</p>

<p>And the missing guid warnings are because the customers only care about some of the event types (see above). And, of course, the staff aren&rsquo;t getting any notifications at all, so their always complaining about them being late.</p>

<p>Your mission, should you choose to accept it: make everyone happy!</p>

<p>We had 3 teams take up the challenge; I&rsquo;ve posted their solutions in <a href="/rx-solutions/">a separate solutions post</a> to avoid accidental spoilers :)</p>

<p>P.S. A couple of people were interested in how the server worked. It&rsquo;s my very first attempt at writing both <a href="https://github.com/Hopac/Hopac">Hopac</a> and <a href="https://github.com/zeromq/fszmq">fszmq</a> (an F# zeromq wrapper library). I&rsquo;m hugely impressed by both, but wouldn&rsquo;t recommend my code in that repository as an introduction to either!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Persistent Data Structures]]></title>
    <link href="http://blog.mavnn.co.uk/persistent-data-structures/"/>
    <updated>2015-02-02T15:36:51+00:00</updated>
    <id>http://blog.mavnn.co.uk/persistent-data-structures</id>
    <content type="html"><![CDATA[<p>In last week&rsquo;s <a href="/keeping-up-with-the-latest-hammer/">Developer Education session</a> at <a href="http://15below.com">15below</a> we had a look at immutable and persistent data structures, and why you&rsquo;d want to use them.</p>

<blockquote><p>TL;DR version: are you writing performance critical, real time code? Do you have less memory available than a low end smart phone? No?</p>

<p>Use immutable data types everywhere you can.</p></blockquote>

<p>The session was inspired by <a href="https://twitter.com/ScottWlaschin">Scott Wlaschin</a>&rsquo;s excellent <a href="http://fsharpforfunandprofit.com/posts/is-your-language-unreasonable/">is your programming language unreasonable?</a> post. If you haven&rsquo;t read it yet, go and do so &ndash; it&rsquo;s much better than the rest of this post, and you can always come back here later if you remember.</p>

<p>One of the points that Scott raises is that code written with mutable data structures (ones that you can change after they&rsquo;ve been created) is very hard to reason about. In the very literal sense of working out the reason why things happen.</p>

<!-- more -->


<p>So we kicked off with a couple of examples of the dangers of mutability. Consider the following C# code.</p>

<p>``` csharp
static void Main(string[] args)
{</p>

<pre><code>var mercurial = new List&lt;string&gt; { "Bob" };
DoWork(mercurial);

if (mercurial.First() == "Bob")
{
    Console.WriteLine("Yay! We have Bob!");
}

DoSomeOtherWork();
// Actually get around to doing some work.
if (mercurial.First() == "Bob")
{
    Console.WriteLine("Success");
}
else
{
    Console.WriteLine("Oops, I updated {0}'s record by mistake.", mercurial.First());
}

Console.ReadLine();
</code></pre>

<p>}
```</p>

<p>Does it update Bob&rsquo;s record, or someone else&rsquo;s? Well &ndash; this is Scott&rsquo;s point. We&rsquo;ve passed the mutable <code>mercurial</code> object (here a <code>List</code>, but it could be anything mutable) into a function (<code>DoWork</code>), and now we don&rsquo;t know what will be done to it. Even if we check that it has the value we were expecting (line 6) there&rsquo;s no guarantee that it won&rsquo;t be changed under our nose. Which in fact, it is, because the rest of the code looks like this:</p>

<p>``` csharp
private static void DoSomeOtherWork()
{</p>

<pre><code>System.Threading.Thread.Sleep(500);
</code></pre>

<p>}</p>

<p>private static async void DoWork(List<string> Mercurial)
{</p>

<pre><code>new Immutable.Thing("Hello world", 1);
await Task.Delay(100);
Mercurial.Clear();
Mercurial.Add("Fred");
</code></pre>

<p>}
```</p>

<p>This example is clearly contrived &ndash; but these kinds of bugs crop up in code a lot, and it doesn&rsquo;t even need to be asynchronous for it to happen.</p>

<p>We then discussed equality, and the fact that it can be very hard to decide what equality means for a mutable object. Is a customer object the same as another customer object because they both have the same Id? Because they&rsquo;re both the same object in memory? Because they have the same value in all of their fields? What happens if one of the fields is changed? Overriding equality in .net <a href="http://visualstudiomagazine.com/articles/2011/02/01/equality-in-net.aspx">is not trivial</a>. Edit: found a
better article on the subject of <a href="http://www.aaronstannard.com/overriding-equality-in-dotnet/">C# equality</a> by Aaron Stannard.</p>

<p>Immutable objects cannot be changed, which means that they are nearly always defined as having value based equality. If all of the fields are equal, the object is equal &ndash; and it can&rsquo;t change, so you don&rsquo;t have to worry about it shifting under you. This is such a useful property (especially if you&rsquo;re loading data from another source that you want to run comparisons on) that we&rsquo;ve even had occasions here where we&rsquo;ve considered implementing our data types as <a href="https://msdn.microsoft.com/en-us/library/dd233184.aspx">F# records</a> even when writing C# services.</p>

<p>For example, you can define an F# record like this:</p>

<p>``` fsharp
// Yes, this is the entire file
module Immutable</p>

<p>type Thing =</p>

<pre><code>{
    One : string
    Two : int
}
</code></pre>

<p>```</p>

<p>And then use it from C# like this:</p>

<p>``` csharp
// You do need to reference the project with Thing in
static bool UseRecordTypeFromCSharp()
{</p>

<pre><code>var myThing = new Immutable.Thing("Hello", 11);
var myThing2 = new Immutable.Thing("Hello", 11);

return myThing == myThing2; // Always returns true
</code></pre>

<p>}
```</p>

<p>If all you need is an immutable collection, rather than an immutable
object with nice value based properties then you don&rsquo;t even need to
leave the comfort of your C# window. Microsoft themselves have bought
into the concept of immutable data structures sufficiently to release
an <a href="https://msdn.microsoft.com/en-us/library/dn385366%28v=vs.110%29.aspx">Immutable Collections</a> library.</p>

<h3>But what about the memory? Think of the RAM, the poor RAM!</h3>

<p>We also discussed the downsides of immutable data types. There are two concerns which are raised most frequently. The first is performance &ndash; in .net, using immutable data structures and then doing a lot of transforms on the data will create a lot of objects. This can have a significant effect in very performance critical areas of your code. This is a valid concern where performance is paramount, and the normal way around this is to wrap a private mutable object (or raw array, for
that matter) in a function that does all of your heavy manipulation. In that way you can take advantage of the speed of imperative coding techniques whilst keeping their scope small enough to reason about the effects.</p>

<p>Of course, even if <strong>speed</strong> isn&rsquo;t of paramount importance &ndash; what about <strong>memory</strong>? After all, these allocations must be adding up on the memory side of things as well, no?</p>

<p>Well, not as much as you might think, for two reasons. One is that if your code is asynchronous, you&rsquo;re almost certainly taking copies of your mutable data structures all over the place anyway to guarantee thread safety. Well, either that or you&rsquo;re taking a lot of locks, and you&rsquo;re back into performance issues.</p>

<p>The second, and much more interesting, reason is that a very bright guy called Chris Okasaki realised back in 1996 (despite the recent surge of interest in functional programming, it&rsquo;s not new&hellip;) that you can take advantage of the fact that an object is immutable to avoid copying all of it when a new, similar object is required.</p>

<p>For example, if you add a new object to the end of an immutable list, the new list you get back doesn&rsquo;t need to be a complete copy &ndash; it can just be the single new item with a pointer back to the original list. To the person using the list, it appears to be a three item list and they are none the wiser. Because it&rsquo;s immutable, the first two values never change, so it&rsquo;s never a concern to you whether your list is a completely new one, or a &ldquo;pointer&rdquo; list. Okasaki called these data
types &ldquo;persistent&rdquo; data types as they &ldquo;persist&rdquo; a previous version of themselves when &ldquo;modified&rdquo;. You can read more about them in a <a href="https://en.wikipedia.org/wiki/Persistent_data_structure">surprisingly complete wikipedia article</a>.</p>

<p>In .net land, both the F# immutable records and collections, and the <code>System.Collections.Immutable</code> library from Microsoft mentioned above are persistent data types. So unless you&rsquo;re extremely memory constrained, you should be good to go.</p>

<p>And there you have it. An introduction to immutable data types: officially approved for use almost everywhere by your local Technical Architect.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Keeping Up with the Latest Hammer]]></title>
    <link href="http://blog.mavnn.co.uk/keeping-up-with-the-latest-hammer/"/>
    <updated>2014-12-22T12:07:02+00:00</updated>
    <id>http://blog.mavnn.co.uk/keeping-up-with-the-latest-hammer</id>
    <content type="html"><![CDATA[<h2>Making Sure Your Developers Keep Developing</h2>

<p>Software development is a strange profession, mostly because it&rsquo;s so young and because the tools are changing so fast. I&rsquo;ve not been an established enough craftsman in any other trade to know whether other professions are moving as quickly these days, but at least in my imagination once a carpenter learns to use a hammer, it doesn&rsquo;t get discontinued after 2 years and the hammer taken off the market. Or a new hammer released that hammers nails ten times as fast, but has a different
shaped handle and you have to hammer sideways instead of down.</p>

<p>We don&rsquo;t even seem to be able to decide whether it&rsquo;s a craft or a science. You can earn Computer Science degrees &ndash; but then well known software professionals choose titles like <a href="https://twitter.com/unclebobmartin">Software Craftsman</a>.</p>

<p>Despite all of our claims of best practice and shared knowledge, it largely boils down to: developers don&rsquo;t know what they&rsquo;re doing yet. We&rsquo;re a new profession, and we&rsquo;re still learning &ndash; not just as individuals, but as a profession.</p>

<p>This means that both as an individual developers, and as software houses &ndash; if we stop learning, we sink. The competitive advantage of keeping up with what&rsquo;s happening in the industry so outweighs the cost of doing the research that it would be foolish not to. Because while we might not yet know the <em>right</em> way to do things, we&rsquo;re still definitely finding <em>better</em> ways to do things.</p>

<p>So: how do we do keep up to date, as <a href="/keeping-up-with-the-latest-hammer/#individuals">individuals</a> and as <a href="/keeping-up-with-the-latest-hammer/#companies">companies</a>?</p>

<!-- More -->


<h2><a name="individuals"></a> As individuals</h2>

<h3>Books and Blogs</h3>

<p>Firstly of course, you need to read. Technical books are still excellent when you need a deep dive into a specific subject, but in general a lot of the information is now becoming available in blog posts which seem to be developers main method of swapping information, ideas, and &ldquo;best practice&rdquo;. In general, if you need a deep dive into an established technology or you need to read up on a subject at a conceptual level (Test Driven Development, Functional Programming, etc.)
then a book can be very helpful. If you&rsquo;re looking into something new, or very specific (AngularJS, a particular unit testing framework) then it&rsquo;s time to hit google and read up on some blog posts. Otherwise you&rsquo;ll just have a stack of dead trees to be taking to the recycling center every six months.</p>

<h3>Conferences</h3>

<p>Sometimes, there&rsquo;s nothing like seeing somebody do something. Or hearing from someone who&rsquo;s actually done the thing you&rsquo;re thinking of doing.</p>

<p>Conferences come into their own in these situations; large conferences can be nice because of the big name speakers and the wide range of subjects but in my experience small specialist conferences have two big advantages. They give you much more access to the speakers outside the sessions, and they tend to be much cheaper!</p>

<p>Speaking at conferences is a great way to attend them cheaply, and is also a great way of ending up at things like speaker&rsquo;s dinners and making some contacts as well as learning the particular skill you went for. If you or your company is doing something well &ndash; pretty much anything well &ndash; get yourself out there. It provides great opportunities for you, and other people&rsquo;s gratefulness is a currency you can&rsquo;t buy with money.</p>

<p>And&hellip; ssssh, don&rsquo;t tell everyone: it&rsquo;s actually really easy to get speaking gigs at specialist conferences if you know about a relevant specialist subject. Why? Because people like you don&rsquo;t bother applying, and so the organisers tend to be a bit desperate. Yes, you&rsquo;ll need to do some public speaking &ndash; but that&rsquo;s not exactly a bad skill to have under your belt anyway, is it now?</p>

<h3>Research Papers</h3>

<p>Keeping up with computer science research would be a more than full time job in its own right &ndash; but the research that is turning out to have practical applications is often referenced in talks and blog posts by the people who are basing projects off it. If the project looks interesting to you, don&rsquo;t be afraid to go back and read the original research papers! There&rsquo;s generally more in there than the current project needs which might help you even further &ndash; and they are often
surprisingly readable.</p>

<h3>Training Courses</h3>

<p>And for some skills, you just need the hands on training. It can be expensive, but on occasion its worth it to pay your money and actually be taught to do something.</p>

<h3>Discernment</h3>

<p>It&rsquo;s not a word that comes up very often, but discernment is critical to software developers. Remember what I was saying above about it being a new profession? Well, one of the side effects of that is we&rsquo;re still learning from our mistakes and we&rsquo;re still repeating them. Not everything that people say is new is actually new &ndash; try and check back in the (relatively short) history of computer science to see if it&rsquo;s already been tried and failed.</p>

<p>A classic example of this is distributed computing; making lots of computers do lots of things at the same time is actually pretty hard to get right. A lot of the &ldquo;new&rdquo; solutions to the problem you see being suggested are actually ideas that people have already tried and do not work; if you need to work with distributed systems it&rsquo;s worth doing enough background research to have a hope of spotting these issues.</p>

<p>This doesn&rsquo;t necessarily mean you have to be an expert on everything you consider touching. It does mean you&rsquo;ll have to do enough research to discover the people who <em>are</em> experts so that you can get well thought out feedback about the ideas you&rsquo;re considering using.</p>

<p>This extends even to things like choosing which blogs to follow. You won&rsquo;t be able to follow all of them, so if you can find a &ldquo;core&rdquo; of people whose opinion you value they can act as a pre-filter for you on interesting new ideas, with out you trying to track all of their sources independently.</p>

<h2><a name="companies"></a> As a Company</h2>

<p>This is all great &ndash; but all of these things give knowledge to an individual. How do you share the learning around?</p>

<p>Some of these things carry across directly, of course: you should have a conference budget. You should have a training budget, too &ndash; and you should almost certainly be providing in house training for your own in house tools and procedures.</p>

<p>But that only really helps for the things that people know they don&rsquo;t know; when they&rsquo;ve realised they&rsquo;ve hit a problem and they need some knowledge. How do you share the more nebulous things? No one is going to wake up one morning and realise that the problem they&rsquo;re currently tackling would be better solved by a functional programming technique if they don&rsquo;t know what functional programming <em>is</em>.</p>

<p><a href="https://mikehadlow.com">Mike Hadlow</a> came up with a solution for this years ago that he implemented at <a href="http://15below.com">15below</a> which we&rsquo;re still using.</p>

<p>His proposal was deceptive simple: one hour a week is spent on group &ldquo;Developer Education.&rdquo; Someone prepares a topic and promises to provide notes (or a recording) afterwards &ndash; everyone else just turns up. We call them DevEds, and they run every Friday morning at 9:00am.</p>

<p>It doesn&rsquo;t sound much, does it? But actually, it&rsquo;s had a huge impact in the company. And we keep on getting asked how we do it, and how it works, so I&rsquo;m going to try and explain!</p>

<h3>What subjects?</h3>

<p>We&rsquo;re not completely random in subject choices &ndash; but we are deliberately broad. Basically, the subjects fall into three main categories:</p>

<p>1) Communication of internal changes</p>

<p>A team releases a new service for our core product. A new internal code review process is put in place. For these kind of events, we use the DevEd as a vehicle for communication to developers within the company, making sure everyone is aware of the change and allowing people to ask questions. Sometimes we&rsquo;ll put a requirement on a DevEd of this type that at least one developer from each team needs to be there (DevEds are not compulsory &ndash; just highly recommended).</p>

<p>2) Things we could be using already</p>

<p>We use Microsoft&rsquo;s .net languages for development, so (for example) we run sessions on the new features in the latest version of C# each time we upgrade. These are things that developers can go back out into the office and use today; also in this category are things like open source libraries we&rsquo;re already using.</p>

<p>3) Potential new tools and general programming knowledge</p>

<p><a href="http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29">SOLID</a> programming. Why you shouldn&rsquo;t do thread management by hand. <a href="http://blog.mavnn.co.uk/property-checking-start-challenge/">Property based testing</a> (that link is a write up of an actual DevEd session, if you&rsquo;re interested). This is where we try and introduce people to ideas they should be aware of, introduce new tools and languages that we are considering using but aren&rsquo;t yet or try and teach people how to <em>think</em> about development rather than how to <em>do</em> development. We also
tend to throw some fairly odd ball things into this category to keep people thinking, and to avoid people only knowing about things within &ldquo;our expertise.&rdquo; For example, although we&rsquo;re a Windows .net programming house we&rsquo;ve run sessions on using Emacs and Vim. Why? Because a lot of programmers use these tools, and get a great deal of value from them. Which means they probably have things to teach us if we care to learn. And yes &ndash; this blog post was written in Vim!</p>

<p>The idea in this category is not normally that a person will come out of the session being able to use something straight away &ndash; but they should now be aware it exists, and know what to look up if they do need to use it.</p>

<h3>But I don&rsquo;t learn listening to lectures!</h3>

<p>Different people learn in different ways. So we try and teach in different ways: most of our sessions are live coding demos, but some are straight up presentations; others are white board round table discussions (thrown Lego pieces optional); and we&rsquo;re trying to build in more and more practical sessions as we go forward, with groups of two or three people (preferably from different teams) working together to explore the &lsquo;thing&rsquo; we&rsquo;re looking at.</p>

<h3>The benefits</h3>

<p>What does all this buy us?</p>

<p>Well: a few things. The benefits of having a built in internal comms session is a big benefit in it&rsquo;s own right. Breaking changes to our auto-deploy system can be announced up front in a format that has more impact than any email would ever had. We don&rsquo;t always have the luxury (or remember to use it!) but when we have, it&rsquo;s worked well.</p>

<p>For keeping people up to date on the technologies and techniques within the company, I count it as invaluable. For an old-ish code base, you&rsquo;ll find C# 5.0 async/await, F# code, LINQ usage in our core product&hellip; all the types of shiny new things that save bucket loads of time when you&rsquo;re coding, but a lot of &ldquo;enterprise&rdquo; development houses will tell you not to use in case &lsquo;not everyone can understand and maintain the code&rsquo;. For us, this is much less of a problem: if a DevEd has already happened, you&rsquo;ve
either been exposed to the concepts or you can look up the presenter and, hey presto, you have an expert to ask. If there hasn&rsquo;t been one, you just ask for it &ndash; and you&rsquo;re guaranteed to have a suitable expert to deliver the session (the author of the code in question).</p>

<p>The blue sky sessions sound the least practical, but I suspect they actually have the largest impact. As software houses, we tend to specialise: a particular programming language, a particular operating system, preferred libraries, preferred database server, the list goes on. On the one hand, this is good: you <em>must</em> be expert in the tools of your trade. On the other hand, this can be crippling: if you stop evaluating the new things that come along, you&rsquo;ll go out of date. This
causes two big problems: firstly, you&rsquo;re no longer using the best tools for the job. Secondly, the staff you want most will leave.</p>

<p>They will. The people who you really want building your code will be doing all of the things from the first half of this post <em>in their own time anyway</em>. That means they&rsquo;ll know that the grass is greener. That there&rsquo;s a better way to do things. That there&rsquo;s already a respected open source project that does the thing you&rsquo;ve asked them to create on a shoe string time and testing budget. They&rsquo;ll know, they&rsquo;ll skill up, and they&rsquo;ll leave. This doesn&rsquo;t mean you should always be using the
latest &ldquo;new and shiny&rdquo; just because it is &ldquo;new and shiny&rdquo; &ndash; but it does mean that if one of your developers comes to you and says &lsquo;there is a better way!&rsquo;, you really should listen and find out if there is. And then tell the rest of the developers, so they stay excited about staying too.</p>

<h3>Preparation time</h3>

<p>Ok, so if you&rsquo;re a manager this has probably all sounded great up until this point. I mean, an hour on Friday morning when the Developers are still normally rubbing the sleep out of their eyes anyway? Good deal!</p>

<p>Let&rsquo;s hit pause for a moment.</p>

<p>These sessions are something we take reasonably seriously; some of them get more prep than others, but I can safely say that a lot of them take a full working day between preparation and post session write up (or recording upload etc). That&rsquo;s a lot of time.</p>

<p>I&rsquo;ve had a lot of questions about how we make this work, and frankly the answer is mostly me. Not me, the individual person. But me, my role: having a person who has as a serious job priority internal technical training and communication. It&rsquo;s not my only responsibility, but it&rsquo;s up there on my list in a way that it isn&rsquo;t for our other developers. This means that I have a back up session planned most of the time for if an other developer has to drop doing a session because a
project is running late. I make sure (most of the time!) that there are a few future sessions planned in. I provide support for people who know a subject but aren&rsquo;t comfortable presenting to do their first sessions.</p>

<p>I do end up also delivering the majority of the sessions; I&rsquo;ve a fairly broad range of background knowledge and as I&rsquo;m not generally running on a project critical path I&rsquo;m the &ldquo;goto&rdquo; guy if no one else is available. But that&rsquo;s not the most important thing I provide: it&rsquo;s the ongoing push to make sure these sessions don&rsquo;t just happen this week, but that they keep on happening in the future. Which means I&rsquo;m not doing other things for the company.</p>

<p>So I suppose the final message here is: if you&rsquo;re in a company where this isn&rsquo;t happening, and you have time/resource allocation responsibilities&hellip; read the benefits section again and ask yourself how your company is meeting those needs. If you&rsquo;re a developer in a company where this kind of thing or an equivalent doesn&rsquo;t happen, you pretty much only have two choices: make it happen yourself with &ldquo;brown bag&rdquo; sessions and lunch breaks &ndash; being aware that you&rsquo;re basically training yourself, and
others, to be ready to leave. Or try and convince the decision makers that keeping the business up to date is worth it. I hope this post helps.</p>

<p>If you are already doing something: awesome! Tell us about it in the comments. We like what we&rsquo;ve got, but we&rsquo;re not above stealing better ideas.</p>

<h2>Appendix</h2>

<p>Whenever I get asked about this whole process over a conference beer, the follow up is always: what subjects have you covered?</p>

<p>In terms of what the output looks like, <a href="http://blog.mavnn.co.uk/blog/categories/15below/">this blog&rsquo;s achieves will give you a selection of DevEd write ups</a>.</p>

<p>More generally, here&rsquo;s a selection of session titles from the last few years (with purely internal communication subjects removed, obviously):</p>

<ul>
<li><p>GitFlow Intro</p></li>
<li><p>Database Normalisation</p></li>
<li><p>SQL Server Storage and IO</p></li>
<li><p>Error handling with Choice</p></li>
<li><p>Introduction to NodaTime And Humanizer</p></li>
<li><p>Text Editing with vim &amp; emacs</p></li>
<li><p>Functionally SOLID</p></li>
<li><p>Influx</p></li>
<li><p>WebSQL</p></li>
<li><p>Intro to Threading</p></li>
<li><p>FsUnit and TickSpec</p></li>
<li><p>Mobile apps using PhoneGap</p></li>
<li><p>Adaptive Programming to Reduce Config</p></li>
<li><p>What is a Reverse Proxy</p></li>
<li><p>Meet EmoteBot &ndash; C# Async and Await</p></li>
<li><p>SemVers and Nuget</p></li>
<li><p>AOP &ndash; Aspect Oriented Programming</p></li>
<li><p>How To Write Scalable Services</p></li>
<li><p>A refactoring example</p></li>
<li><p>DDD 2 &ndash; Applying Strategic Design</p></li>
<li><p>DDD Strategic Design</p></li>
<li><p>Introduction to F#</p></li>
<li><p>What is REST</p></li>
<li><p>The basics of TCP/IP</p></li>
<li><p>RabbitMQ</p></li>
<li><p>LINQ To Objects from scratch</p></li>
<li><p>Estimation game</p></li>
<li><p>Real world SRP</p></li>
<li><p>Approval Tests</p></li>
<li><p>Web API</p></li>
<li><p>Octopus and Teamcity</p></li>
<li><p>Solid</p></li>
<li><p>Safe Refactoring</p></li>
</ul>

]]></content>
  </entry>
  
</feed>
