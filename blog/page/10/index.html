
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mavnn's blog</title>
  <meta name="author" content="mavnn">

  
  <meta name="description" content="EasyNetQ (https://github.com/mikehadlow/EasyNetQ) is a simple wrapper for RabbitMq that allows you to trivially send and receive plain .net objects &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="https://blog.mavnn.co.uk/blog/page/10/index.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mavnn's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37561687-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body   >
  <header role="banner"><hgroup>
  <a href="https://mavnn.co.uk"><img class="swirl-logo" src="/images/swirl.svg"/></a>
  <h1><a href="/">Mavnn's blog</a></h1>
  
    <h2>Stuff from my brain</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="#" method="get" id="searchbox" >
  <fieldset role="search">
    <input type="hidden" id="site_query" value="site:blog.mavnn.co.uk" />
    <input class="search" type="text" name="q" results="0" id="search_query" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="https://mavnn.co.uk">Main Site</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/representing-easynetq-message-subscriptions-a/index.html">Representing EasyNetQ Message Subscriptions as Blocking Queues</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-15T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><span style="color: #222222; font-family: arial, sans-serif;">EasyNetQ (</span><a href="https://github.com/mikehadlow/EasyNetQ" target="_blank" style="color: #1155cc; font-family: arial, sans-serif;">https://github.com/mikehadlow/EasyNetQ</a><span style="color: #222222; font-family: arial, sans-serif;">) is a simple wrapper for RabbitMq that allows you to trivially send and receive plain .net objects over the wire (as long as they can be serialized). It handles all the details of setting up exchanges and queues for you, and as long as your use case fits its (deliberately) simple pattern it&#8217;s very convenient.</span></p>
<div style="color: #222222; font-family: arial, sans-serif;">Unfortunately, if you want to use it in a more functional landscape (*cough* from F# *cough*), the fact that it exposes subscriptions via registering a callback is not the ideal interface. In these situations, it&#8217;s much easier to handle (and reason about) a lazy infinite sequence of messages that you can then handle however you want, including in the simplest case just sitting on the sequence in a small tail call recursive function.</div>
<div style="color: #222222; font-family: arial, sans-serif;">So EasyFQ was born. Weighing in at a mighty 16 lines of F# code, it contains one function: SeqSubscibe&lt;&#8217;a&gt; :&nbsp;(IBus -&gt; string -&gt; seq&lt;&#8217;a&gt;).</div>
<div style="color: #222222; font-family: arial, sans-serif;">There&#8217;s a .fsx with example usage in the GitHub repository:&nbsp;<a href="https://github.com/michael-newton-15below/EasyFQ" target="_blank" style="color: #1155cc;">https://github.com/michael-newton-15below/EasyFQ</a></div>
<div style="color: #222222; font-family: arial, sans-serif;">I suppose the next step is to pester Mike into making it a Nuget package under the EasyNetQ umbrella&#8230;</div>
<p>&nbsp;</p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/an-introduction-to-f-screencast-and-pdf-slide/index.html">An Introduction to F# (Screencast and PDF Slides)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-09T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content">[[posterous-content:BtdYjh2l4izPGjbyNN4B]]<p>A recent developer education session I gave at 15below.</p><p /><div>This presentation was aimed at a group of C# developers of varying experience.</div><p /><div><iframe src="http://www.youtube.com/embed/obDZcv8ZXog?wmode=transparent" allowfullscreen frameborder="0" height="417" width="500"></iframe></div>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/sending-emails-via-the-command-line/index.html">Sending Emails via the Command Line</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-11T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content">Is awesome for html email testing.<p /><div>Thanks to the instructions at <a href="http://znc-mailer.readthedocs.org/en/latest/mail.html">http://znc-mailer.readthedocs.org/en/latest/mail.html</a> for getting gmail connections up and running.<br /> <p /></div><div><img src="/images/image.png" alt="Sending emails via the command line" /><br /></div>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/teaching-good-programming-style/index.html">Teaching Good Programming Style</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-09T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, I have several people from technical/mathematical backgrounds who are interested in learning more about programming, specifically with .net in some cases.</p> <p>Tooling is easy; Visual Studio Express, Monodevelop and Sharp Develop are all freely available.</p> <p>The question is, where would you start people off in terms of learning good, solid (see what I did there?) coding practices? Give them small projects and critique? Are there good open source projects for starters to get involved with? </p> <p>Given the intelligence and background of these people, teaching them syntax is the least of my worries: a basic tutorial and Project Euler will have them writing code that works in no time. Most of them even have &#39;toy project&#39; level skills in other programming languages. It&#39;s helping them learn how to build projects that work without falling into all the classic pitfalls of spaghetti code, or at least helping them climb out as quickly as possible.</p> <p>The thing that springs to mind (given there is several people) is to find a real world project that could be split into several &#39;trivial&#39; pieces that would need to communicate with each other; immediate opportunities to teach things like messaging, modularization and IoC (especially with some not very strict TDD built in). After the tutorial/Project Euler stage above, obviously.</p> <p>Suggestions? Other ideas? </p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/stress-testing-easynetq-services-with-f/index.html">Stress Testing EasyNetQ Services With F#</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-04T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><div>Having recently moved one of our (<a href="http://15below.com">http://15below.com</a>) infrastructure services from using MSMQs to RabbitMq (via using EasyNetQ: <a href="https://github.com/mikehadlow/EasyNetQ">https://github.com/mikehadlow/EasyNetQ</a>), I then wanted to run it through some simple stress tests. One of the reasons for this is that the old service used to time out on messages regularly, leaving them in a dead letter queue and requiring us to write the &#39;DeadLetterProcessor&#39; (a complete service in it&#39;s own right) to deal with the time outs.</div> <p /><div>74 lines of F# later, I was hitting the service with 40,000 requests spread across 4 parallel processes.</div><br /><div><script src="https://gist.github.com/3832369.js"></script></div> <p /><div>And the results: 18 seconds to process the lot, with no time outs or losses. Requests were going in faster than the service could process them, but Rabbit was admirably handling that side of things, and with the new setup multiple copies of the service would automatically round robin requests if that was ever needed.</div> <p /><div>Adious, DeadLetterProcessor: it was nice deleting you&#8230;</div>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/gpl-munitions/index.html">GPL Munitions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-12T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Awesome discussion on the finer points of whether having a Linux based cruise missile launched at you entitles you to a copy of the source code running on it.</p> <p>And whether commando raids are a valid form of delivery&#8230;</p> <p>&#39;US Navy buys Linux to guide drone fleet (The Register) [LWN.net]&#39;</p> <p><a href="http://lwn.net/Articles/501536/">http://lwn.net/Articles/501536/</a></p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/anyone-seen-one-these-before/index.html">Anyone Seen One These Before?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-27T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ideas? It&#39;s just as white as it looks in the pictures, and very wasp shaped.</p> <p><img src="/images/IMG_20120427_215704.jpg" alt="Anyone seen one these before?" /></p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/more-progress/index.html">More Progress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-18T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I mean, a table and everything. We&#39;re talking real civilization. </p> <p><img src="/images/IMG_20120318_232430.jpg" alt="More progress" /></p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/110784493/index.html">Untitled</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-13T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><img src="/images/IMG_20120313_113130.jpg" alt="Untitled" /><p></p><p>Good stuff for furniture building. And not as dramatic as the picture suggests! </p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/boxes-boxes-everywhere/index.html">Boxes, Boxes Everywhere&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-11T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>&#8230;and not a drop to drink. Note to self: dehydrating yourself moving house is stupid and best avoided! </p> <p>Pictures of boxes at both ends (and the van).</p> <p><img src="/images/IMG_20120309_224326.jpg" alt="Boxes, boxes everywhere..." /></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/11/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/9/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Hire the Author</h1>
  <p>
    Want some help in any of the areas you&#8217;ve read about? Hop across to
    <a href="https://mavnn.co.uk">mavnn.co.uk</a> where you can hire the
    author.
  </p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/working-from-home/">Working From Home, Pandemic Edition</a>
      </li>
    
      <li class="post">
        <a href="/free-probabilities/">Free Probabilities</a>
      </li>
    
      <li class="post">
        <a href="/shake-generated-files/">Shake: Generated Files</a>
      </li>
    
      <li class="post">
        <a href="/shake-linting/">Shake: Linting and Formatting</a>
      </li>
    
      <li class="post">
        <a href="/shake-the-intro/">Shake: The Intro</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mavnn">@mavnn</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mavnn',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - mavnn -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
 (function() {
   const searchbox = document.getElementById("searchbox");
   const site_query = document.getElementById("site_query").value;
   const search_query = document.getElementById("search_query");

   searchbox.onsubmit = function() {
     const q = encodeURIComponent(search_query.value);
     document.location.assign("https://google.com/search?q=" + site_query + "+" + q);
     return false;
   };
 })()
</script>


</body>
</html>
