
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mavnn's blog</title>
  <meta name="author" content="mavnn">

  
  <meta name="description" content="Having recently moved one of our (http://15below.com) infrastructure services from using MSMQs to RabbitMq (via using EasyNetQ: https://github.com/ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="http://blog.mavnn.co.uk/blog/page/5/index.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mavnn's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37561687-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mavnn's blog</a></h1>
  
    <h2>Stuff from my brain</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.mavnn.co.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/stress-testing-easynetq-services-with-f/index.html">Stress Testing EasyNetQ Services With F#</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-04T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><div>Having recently moved one of our (<a href="http://15below.com">http://15below.com</a>) infrastructure services from using MSMQs to RabbitMq (via using EasyNetQ: <a href="https://github.com/mikehadlow/EasyNetQ">https://github.com/mikehadlow/EasyNetQ</a>), I then wanted to run it through some simple stress tests. One of the reasons for this is that the old service used to time out on messages regularly, leaving them in a dead letter queue and requiring us to write the &#39;DeadLetterProcessor&#39; (a complete service in it&#39;s own right) to deal with the time outs.</div> <p /><div>74 lines of F# later, I was hitting the service with 40,000 requests spread across 4 parallel processes.</div><br /><div><script src="https://gist.github.com/3832369.js"></script></div> <p /><div>And the results: 18 seconds to process the lot, with no time outs or losses. Requests were going in faster than the service could process them, but Rabbit was admirably handling that side of things, and with the new setup multiple copies of the service would automatically round robin requests if that was ever needed.</div> <p /><div>Adious, DeadLetterProcessor: it was nice deleting you&#8230;</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/gpl-munitions/index.html">GPL Munitions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-12T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Awesome discussion on the finer points of whether having a Linux based cruise missile launched at you entitles you to a copy of the source code running on it.</p> <p>And whether commando raids are a valid form of delivery&#8230;</p> <p>&#39;US Navy buys Linux to guide drone fleet (The Register) [LWN.net]&#39;</p> <p><a href="http://lwn.net/Articles/501536/">http://lwn.net/Articles/501536/</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/anyone-seen-one-these-before/index.html">Anyone Seen One These Before?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-27T00:00:00+01:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ideas? It&#39;s just as white as it looks in the pictures, and very wasp shaped.</p> <p><img src="/images/IMG_20120427_215704.jpg" alt="Anyone seen one these before?" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/more-progress/index.html">More Progress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-18T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I mean, a table and everything. We&#39;re talking real civilization. </p> <p><img src="/images/IMG_20120318_232430.jpg" alt="More progress" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/110784493/index.html">Untitled</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-13T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><img src="/images/IMG_20120313_113130.jpg" alt="Untitled" /><p></p><p>Good stuff for furniture building. And not as dramatic as the picture suggests! </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/boxes-boxes-everywhere/index.html">Boxes, Boxes Everywhere&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-11T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>&#8230;and not a drop to drink. Note to self: dehydrating yourself moving house is stupid and best avoided! </p> <p>Pictures of boxes at both ends (and the van).</p> <p><img src="/images/IMG_20120309_224326.jpg" alt="Boxes, boxes everywhere..." /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/perls-before-swine/index.html">Perls Before Swine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-13T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Buried in the depths of our code base (.NET house) has been a single <br />Perl script, hacked together by an ex-college one afternoon to <br />eliminate an infrequent and boring (read: error prone) task. <p /> Which is great and all, but that &#8216;infrequent&#8217; moment has arrived once <br />more, and none of the rest of us have Perl installed. None of the rest <br />of us really want to install it, either&#8230; <p /> An other afternoon later, and we now have an F# version of the script <br />checked into source control, and the first (and last) piece of Perl <br />has left source control. The new version is just as quick and dirty as <br />the old, but at least can be run on any of our machines. As a matter <br />of general interest, before and after versions below: <p /> Before: <p /> <script src="https://gist.github.com/1815931.js"></script><p /> After: <p /> <script src="https://gist.github.com/1815919.js"></script></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/christmas-breakfast/index.html">Christmas Breakfast</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-25T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Italian style. Nom. </p> <p><img src="/images/IMG_20111225_083106.jpg" alt="Christmas breakfast" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/get-with-it-c-compiler/index.html">Get With It, C# Compiler!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-22T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Who doesn&rsquo;t want to build recursive lambda functions?</p>

<div class="CodeRay">
  <div class="code"><pre>Func upChain = move =&gt;
                {
                    if (move.ChainParentId != null)
                        upChain(Coa.MoveRequests.Single(
                            m =&gt; m.Id == move.ChainParentId));
                    return move;
                };</pre></div>
</div>


<p>should work (according to me), but it complains that the second
upChain is an unassigned local variable.</p>

<p>And I don&rsquo;t feel like <a href="http://blogs.msdn.com/b/madst/archive/2007/05/11/recursive-lambda-expressions.aspx">rolling my own
y-combinator</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ncrunch/index.html">NCrunch</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-19T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content">Why has no one pointed me at NCrunch before?<p /><a href="http://www.ncrunch.net/">http://www.ncrunch.net/</a><p />Real time updates of test results as you write the code, complete with in editor code coverage.<p /> Awesome stuff, whether you&#39;re using full TDD or just adding unit tests where none have gone before&#8230;
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/persistent-data-structures/">Persistent Data Structures</a>
      </li>
    
      <li class="post">
        <a href="/difficult-vs-impossible/">Difficult vs Impossible</a>
      </li>
    
      <li class="post">
        <a href="/keeping-up-with-the-latest-hammer/">Keeping Up With the Latest Hammer</a>
      </li>
    
      <li class="post">
        <a href="/modelling-inheritance-with-inheritance/">Modelling Inheritance With Inheritance</a>
      </li>
    
      <li class="post">
        <a href="/cutting-quotations-down-to-size/">Cutting Quotations Down to Size</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tip the author</h1>
  <p><script data-gittip-username="mavnn"
        data-gittip-widget="button"
        src="//gttp.co/v1.js"></script></p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mavnn">@mavnn</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mavnn',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+MichaelNewtonmavnn?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - mavnn -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'mavnn';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
