
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mavnn's blog</title>
  <meta name="author" content="mavnn">

  
  <meta name="description" content="This summer I spoke at NDC Oslo. It&#39;s a fantastic event (if huge!), with good talks but also excellent facilities and shared spaces for meeting &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="https://blog.mavnn.co.uk/index.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mavnn's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37561687-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body   >
  <header role="banner"><hgroup>
  <a href="https://mavnn.co.uk"><img class="swirl-logo" src="/images/swirl.svg"/></a>
  <h1><a href="/">Mavnn's blog</a></h1>
  
    <h2>Stuff from my brain</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="#" method="get" id="searchbox" >
  <fieldset role="search">
    <input type="hidden" id="site_query" value="site:blog.mavnn.co.uk" />
    <input class="search" type="text" name="q" results="0" id="search_query" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="https://mavnn.co.uk">Main Site</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/property-based-testing-at-ndc-oslo-2018/">Property Based Testing at NDC Oslo 2018</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-09-07T15:09:07+01:00" pubdate data-updated="true">Sep 7<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This summer I spoke at NDC Oslo. It&#39;s a fantastic event (if huge!), with good talks but also excellent facilities and shared spaces for meeting up with people.</p>

<p>Over the last few weeks, they&#39;ve been publishing the videos of this year&#39;s talks, and mine appeared without me noticing. If you&#39;re interested in a deep dive session on using property based testing to test a templating library, you might find this interesting&#8230;</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/lo7zm0_7x_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/working-with-noredink/">Working With NoRedInk</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-06-14T11:09:17+01:00" pubdate data-updated="true">Jun 14<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&#39;s all change here at @mavnn land: as of last week, we&#39;ve signed a full time, indefinite contract with <a href="https://www.noredink.com/">NoRedInk</a> to provide development services.</p>

<p>Given that we&#39;re a two person company, and only one of us is a developer, that means we won&#39;t be taking on any other work for the foreseeable future!</p>

<p>So, what&#39;s going on, why, and what does it mean for you?</p>

<h3>Why?</h3>

<p>The reasons come on a few levels, but they basically boil down to:</p>

<ul>
<li>I think NoRedInk are doing something really worthwhile, and they really understand remote teams</li>
<li>My family may need to move on fairly short notice at some point (<em>cough</em> Brexit <em>cough</em>) and neither on-site work nor short term contracts give much security in that context</li>
</ul>

<p>There are other reasons, and not necessarily minor ones:</p>

<ul>
<li>They have an in-depth interview process which has convinced me I can work with the engineers there</li>
<li>They&#39;re using Elm on the front end, which I really like the look of</li>
<li>They&#39;re investing in tooling and support</li>
</ul>

<p>I&#39;m only just getting started with them (last week they had a 3 day retreat I was able to join them for, this week I&#39;m at NDC Oslo), but so far I can tell you that they seem to be a great bunch of human beings with a clear, concrete, targeted plan on how to make (one aspect of) the world better. I can get behind that.</p>

<h3>What does it mean for you?</h3>

<p>Well, basically it means that @mavnn ltd will no longer be running on site training or ticketed training events, and we won&#39;t be available for bespoke development. It also means that I&#39;ll be a lot less active in the F# community; I have 3 new programming languages to learn and become productive with in fairly short order.</p>

<p>Having said that, you can probably expect some cross-ecosystem pollination talks at conferences in the future!</p>

<p>Anyway: enough about me. I now return you to your regular schedule of techy bloginess.</p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/full-stack-with-freya/">Full Stack With Freya</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-05-22T15:04:00+01:00" pubdate data-updated="true">May 22<span>nd</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday night I was about to demo a quick server/client pair with Freya and Fable, and it all went a bit wrong. Some of the issues weren&#39;t related to what I did (computers, gotta love &#39;em) but others were just bits of configuration that I didn&#39;t have at my finger tips.</p>

<p>This means it&#39;s time for a little practice for me, and a mini-tutorial for you (and future me).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/full-stack-with-freya/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/routemaster-and-the-tale-of-the-globally-unique-voters/">RouteMaster and the Tale of the Globally Unique Voters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-15T21:43:38+00:00" pubdate data-updated="true">Mar 15<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/RouteMasterIntegration/RouteMaster">RouteMaster</a> is a process manager library I&#39;ve been working on for simplifying the creation of complex work flows in message based systems.</p>

<p>One of the challenges RouteMaster faces is that once you have defined your &quot;route&quot; in RouteMaster, you generally want to run multiple instances of your process manager service in your distributed environment. This means that a lot of care has been taken to make sure that things like work flow state is handled safely, but it also causes a particular challenge for dealing with timeouts.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/routemaster-and-the-tale-of-the-globally-unique-voters/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/cloud-native-net/">Cloud Native .NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-14T11:28:03+00:00" pubdate data-updated="true">Mar 14<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&#39;re launching a new two day course this April (26th/27th), called &quot;Cloud Native .NET&quot;. Despite the slightly pretentious name the industry has come up with, what we&#39;re really talking about here are the core engineering skills of building code that can be scaled and maintained. This course is a practical workshop using .NET Core and Kuberenetes so we can see what it all looks like in practice.</p>

<p>Full details below!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/cloud-native-net/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/getting-started-with-f-number-in-kubernetes/">Getting Started With F# in Kubernetes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-02-02T14:44:21+00:00" pubdate data-updated="true">Feb 2<span>nd</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>
<p>Author&#39;s note: This post is a quick start to help you get a single F# based service up and running on Kubernetes. If you want the full story on how to design a distributed system, we offer <a href="https://blog.mavnn.co.uk/building-solid-systems-in-f-number/">commercial training</a> and <a href="https://mavnn.co.uk/">consulting services</a> to help you with that.</p>
</blockquote>

<p>&quot;Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications&quot; - in other words, it will handle more deployment, health monitoring and service discovery needs out of the box, as long as you can turn your application into a container. So, let&#39;s have a quick look at how to do that with an F# application.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/getting-started-with-f-number-in-kubernetes/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/token-bearer-authentication-in-freya/">Token Bearer Authentication in Freya</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-01-10T11:03:48+00:00" pubdate data-updated="true">Jan 10<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As part of my <a href="/building-solid-systems-in-f-number/">Building Solid Systems</a> course, I&#39;ll be talking about authentication in distributed systems. I wanted a practical demonstration that people could play with, so I added token bearer authentication to a Freya API.</p>

<p>Here&#39;s how.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/token-bearer-authentication-in-freya/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/logging-freya/">Logging Freya</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-12-08T15:43:57+00:00" pubdate data-updated="true">Dec 8<span>th</span>, 2017</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Eugene Tolmachev asked in a comment on a previous post <a href="http://disq.us/p/1oeml1a">how I handle dependency injection</a> with <a href="https://freya.io/">Freya</a>.</p>

<p>So&#8230; my first, slightly annoying answer is that I try not to. Mark Seeman has written about this in a <a href="http://blog.ploeh.dk/2017/01/27/from-dependency-injection-to-dependency-rejection/">great series of blog posts</a> which I won&#39;t try and repeat here.</p>

<p>Still, there are occasions where you want to quickly and easily do&#8230; something.. with a dependency making use of the context that being inside a Freya workflow provides. Let&#39;s quickly walk through how I inject a logger into a Freya workflow which &quot;knows&quot; about things like the request ID Kestrel has assigned to the current request.</p>

<p>I&#39;m going to use Serilog as an example below, but you could also use any other structured logging library (I like Logary, but there isn&#39;t a .NET Core release at time of writing).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/logging-freya/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/f-number-through-a-ruby-lens/">F# Through a Ruby Lens</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-12-07T21:00:00+00:00" pubdate data-updated="true">Dec 7<span>th</span>, 2017</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I spent last week delivering a five day deep dive into F# for a group of (mostly) Ruby developers in Munich, and wanted to capture some of my thoughts before I lost them as well as give people an idea of the types of things internal training can give you.</p>

<p>I won&#39;t be mentioning personal, company or exact team names here as I&#39;ve not been given explicit permission to do so; if the people who were on the course want to chime in I&#39;ll add their comments.</p>

<h2>The background</h2>

<p>Although mostly a Ruby on Rails shop, this company also relies on machine learning and expert systems to deliver some of its core services. The R&amp;D department (who build the models) settled on F# for development as a good balance between:</p>

<ul>
<li>familiarity of syntax (most have a background in Python and/or a ML language)</li>
<li>performance (Ruby had struggled here)</li>
<li>type safety</li>
<li>good &quot;production&quot; library support (logging, etc)</li>
</ul>

<p>Having examined the available options in depth, they decided on a standard stack for creating F# microservices of:</p>

<ul>
<li>Freya on Kestrel via .NET Core</li>
<li>Chiron for type safe JSON serialization/deserialization</li>
</ul>

<p>They wanted to investigate the use of Hephaestus as a rules engine (Freya uses Hephaestus to process HTTP requests). Many of their machine learning models only work with quite constrained ranges of input values, and Hephaestus as a rules engine looked an effective way of routing decisions to the &quot;correct&quot; machine learning algorithm for a particular input range. This in turn would allow for the models to stay reasonably simple and testable.</p>

<h2>The brief</h2>

<p>Having made these decisions, the company needed to bring the production services team up to speed on what R&amp;D were going to produce, especially because production had expressed an interest in having F# as an extra potential tool for their own projects.</p>

<p>My brief was to create 5 days of training, after which production needed to know enough about the F# libraries in use that they could work out what R&amp;D&#39;s code was doing, and enough about running .NET code in production to feel confident adding error handling, logging, metrics, tests and all the rest of the &quot;engineering&quot; side of development which is not about the programming language but the surrounding ecosystem.</p>

<h2>What we did</h2>

<p>I knew that I had a lot of ground to cover in just 5 days, so there was no way that the team was going to come away with all of the new knowledge absorbed and at their finger tips. At the same time, it couldn&#39;t be an overwhelming flood of information.</p>

<p>I decided to split the training time between a deep dive in understanding a few key areas in depth (Freya&#39;s design, optics and testing), and providing worked examples for the rest which could be referred back to when they became needed. Although I had relevant training material on several of the areas already, it was all tailored in this course to fit a single theme: over the course of a week, we were going to build a microservice that did just one thing, and we were going to test the heck out of it.</p>

<p>The timetable ended up looking like this:</p>

<ul>
<li>Monday AM: Introductions

<ul>
<li>high level microservice design</li>
<li>check everyone had all the software they needed installed</li>
</ul></li>
<li>Monday PM: Freya overview

<ul>
<li>install the template</li>
<li>modify the hello world service to accept POSTs with a name</li>
</ul></li>
<li>Tuesday AM: Optics

<ul>
<li>Chiron, Freya and Hephaestus all make heavy use of &quot;Optics&quot;</li>
<li>What are they?</li>
<li>Building our own</li>
</ul></li>
<li>Tuesday PM: Handling external data

<ul>
<li>Using Chiron for translation, version handling and API design (using our new found knowledge of optics)</li>
</ul></li>
<li>Wednesday AM: Start our actual microservice as a real project

<ul>
<li>how .NET solutions are (normally) laid out</li>
<li>using Paket for package management</li>
<li>add a test project with <a href="/going-down-the-property-based-testing-rabbit-hole/">this set of property based tests</a></li>
<li>write our first bit of domain logic to pass these tests, and plug it into the Freya API</li>
</ul></li>
<li>Wednesday PM: Start making our service production worthy

<ul>
<li>Spin up a docker &quot;infrastructure&quot; with Kibana and ElasticSearch</li>
<li>Adding logging to our service, plugged into Freya to automatically capture context like request IDs</li>
<li>Health endpoint</li>
<li>How to capture metrics</li>
</ul></li>
<li>Thursday AM: interesting bits &amp; answers to questions asked

<ul>
<li>How do computational expressions work?</li>
<li>How would I structure a functional UI?</li>
</ul></li>
<li>Thursday PM: flexible rules engines with Hephaestus

<ul>
<li>rebuilt the logic from Wednesday AM reusing the same property tests</li>
<li>looked at how we can splice Hephaestus rules graphs together</li>
</ul></li>
<li>Friday AM: BenchmarkDotNet

<ul>
<li>now we know it&#39;s correct - is it fast?</li>
<li>benchmarked our two implementations of the same logic together</li>
</ul></li>
<li>Friday PM: Using it all in real life

<ul>
<li>code review of pieces of the existing code base, looking at adding what we&#39;d learned</li>
</ul></li>
</ul>

<h2>How it went</h2>

<p>Overall the course seemed to go really well. At the end of it, the delegates were confident about the basics of building HTTP resources with Freya and Chiron, and happily building benchmarks and tests for their existing code base. For other areas (the boiler plate for plugging logging into Kestrel and Freya, for example) they understood the concepts and felt the course notes were sufficiently detailed they that could make use of them in other situations as needed. That was incredibly pleasing to hear from my point of view, as the course notes for these sessions are by far the most time consuming part of the process to create.</p>

<p>Although they missed some of the features of Ruby when writing F#, pattern matching with discriminated unions was a big hit and they liked the enforced discipline of Freya that required separating the logic of the various stages of handling an HTTP request - and how reusable that made components for handling concerns such as authentication.</p>

<p>Finally, all 3 of the core participants (there were other people around for certain parts of the course) came away saying that they&#39;d really enjoyed it and found it interesting throughout - so that&#39;s a big win right there!</p>

<h2>Can you do this for us?</h2>

<p>Yes; this particular course was tailored for the specific circumstances, but I&#39;ve also provided training on the more conceptual side (functional programming concepts) through to the gritty detail of DevOps (with both new and existing code bases).</p>

<p>We can also tailor delivery to match your availability; for this course I traveled to Munich to deliver it, and so it was delivered in a single 5 day unit. For other clients we can arrange regular shorter sessions or even remote workshops (group or individual) with tools such as Zoom.</p>

<p>And if you just want to turn up at a venue and get trained, check out <a href="/building-solid-systems-in-f-number/">Building Solid Systems in F#</a> happening 31st Jan-1st Feb 2018 in London.</p>

<p>Get in touch with us at <a href="us@mavnn.co.uk">us@mavnn.co.uk</a> if you have any ideas.</p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/advent-2017-reading-from-the-firehose-with-fable/">Advent 2017 - Reading From the Firehose With Fable</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-12-04T13:00:00+00:00" pubdate data-updated="true">Dec 4<span>th</span>, 2017</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Each year, the F# programming community creates an advent calendar of blog posts, coordinated by Sergey Tihon <a href="https://sergeytihon.com/2017/10/22/f-advent-calendar-in-english-2017/">his blog</a>.</p>

<p>I really like the idea, and have taken part in <a href="https://blog.mavnn.co.uk/advent-2016/">2016</a>, <a href="https://blog.mavnn.co.uk/angels-from-the-realms-of-glory/">2015</a> &amp; <a href="https://blog.mavnn.co.uk/modelling-inheritance-with-inheritance/">2014</a>.</p>

<p>Below is this year&#39;s post.</p>

<h1>The plan: speed read Christmas</h1>

<p>So; you want to find out what Christmas is about, where it really came from&#8230; but you don&#39;t have much time.</p>

<p>The solution is obvious: take the famous bible passages that churches read every year, and speed read them!</p>

<p>Let&#39;s build an app to help us with that.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/advent-2017-reading-from-the-firehose-with-fable/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Hire the Author</h1>
  <p>
    Want some help in any of the areas you&#8217;ve read about? Hop across to
    <a href="https://mavnn.co.uk">mavnn.co.uk</a> where you can hire the
    author.
  </p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/property-based-testing-at-ndc-oslo-2018/">Property Based Testing at NDC Oslo 2018</a>
      </li>
    
      <li class="post">
        <a href="/working-with-noredink/">Working With NoRedInk</a>
      </li>
    
      <li class="post">
        <a href="/full-stack-with-freya/">Full Stack With Freya</a>
      </li>
    
      <li class="post">
        <a href="/routemaster-and-the-tale-of-the-globally-unique-voters/">RouteMaster and the Tale of the Globally Unique Voters</a>
      </li>
    
      <li class="post">
        <a href="/cloud-native-net/">Cloud Native .NET</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mavnn">@mavnn</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mavnn',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - mavnn -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
 (function() {
   const searchbox = document.getElementById("searchbox");
   const site_query = document.getElementById("site_query").value;
   const search_query = document.getElementById("search_query");

   searchbox.onsubmit = function() {
     const q = encodeURIComponent(search_query.value);
     document.location.assign("https://google.com/search?q=" + site_query + "+" + q);
     return false;
   };
 })()
</script>


</body>
</html>
