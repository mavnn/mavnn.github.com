
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mavnn's blog</title>
  <meta name="author" content="mavnn">

  
  <meta name="description" content="There&#39;s an &quot;organic&quot; version of this post at on Google Docs which may receive some edits over time. But I also wanted to reach a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="https://blog.mavnn.co.uk/index.html">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mavnn's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37561687-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body   >
  <header role="banner"><hgroup>
  <a href="https://mavnn.co.uk"><img class="swirl-logo" src="/images/swirl.svg"/></a>
  <h1><a href="/">Mavnn's blog</a></h1>
  
    <h2>Stuff from my brain</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="#" method="get" id="searchbox" >
  <fieldset role="search">
    <input type="hidden" id="site_query" value="site:blog.mavnn.co.uk" />
    <input class="search" type="text" name="q" results="0" id="search_query" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="https://mavnn.co.uk">Main Site</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/working-from-home/">Working From Home, Pandemic Edition</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2020-03-17T11:53:08+00:00" pubdate data-updated="true">Mar 17<span>th</span>, 2020</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>
<p>There&#39;s an &quot;organic&quot; version of this post at on <a href="https://docs.google.com/document/d/1IMhe3vOmU7EcEQFC_8wuT0OnrNpYNI9JZKdjZ0u5DmA/edit#">Google Docs</a> which may receive some edits over time. But I also wanted to reach a broader audience.</p>
</blockquote>

<p>Many of you reading this document will be either:</p>

<ul>
<li>managers asking people to work from home for the first time, with very little warning</li>
<li>workers who do not normally work from home being asked to do so on short notice</li>
</ul>

<p>We‚Äôll try and signpost items that might be of especial relevance to one group or the other, but a lot of this advice will be relevant to everyone.</p>

<h2>Who are we?</h2>

<p>I (Michael Newton) started this document as a response to several queries I‚Äôve had about home working in the light of the CoVid19 pandemic. I‚Äôve been working from home for years, and helping home educate our son at the same time.</p>

<p>I‚Äôm currently working with NoRedInk where about half of our workforce is normally remote (we call them the ‚ÄúRemotians‚Äù) - but since Friday we‚Äôve moved to fully remote working for the duration of the current events. We have a history of remote working that goes back to soon after the company was founded, and forced ourselves to get it right by hiring two remote VPs into the senior leadership team.</p>

<h2>What is this document?</h2>

<p>This document is partly being created to help and support the NoRedInkers who have had to unexpectedly become Remotians overnight, and partly a place for the Remotians among us to share what we‚Äôve learned over the years.</p>

<p>Anyone with a NoRedInk email address can request editing access to this document, and it contains the collective wisdom of a group of people. That means you‚Äôll get a variety of views and approaches below. Also NRIers: that means don‚Äôt post all the company internal secrets here or I‚Äôll be in lots of trouble üòÖ.</p>

<h2>Getting Started</h2>

<p>You are doing remote working on hard mode. Most people who start remote working have time to prepare, to think through the logistics and to set up home and life in a sensible, considered way.</p>

<p>You probably do not, and if the indications from Asia and most of Europe are accurate, you will probably also shortly have to deal with school and child care being closed and adjusting your home life to deal with physical distancing. This is not normal conditions to be working under, and means that certain (normally good!) home working advice may not be possible or helpful for you right now. That means your first priority is looking after yourself and family and your second priority is being an effective remote worker. It‚Äôs okay for this to feel hard at times!</p>

<h2>How to Think (Everyone)</h2>

<p>Remote working requires a fundamentally different way of thinking about ‚Äúwork‚Äù than being in the office does. You can‚Äôt rely on just counting the time from when you arrive in the office to the time you leave as ‚Äúbeing at work.‚Äù So; how do you think instead?</p>

<ul>
<li><em>Do</em> try and set aside time that is ‚Äúwork time‚Äù and time which is not. You are not on call 24-7 just because you have the company laptop at home.</li>
<li><em>Do</em> be deliberate about staying in touch with your co-workers about what you are doing and when. There is a lot of communication that happens in an office that you will have to make an effort to deliberately replicate as a remote worker. There‚Äôs a whole section on this below!</li>
<li><em>Don‚Äôt</em> time your work to the second in your own house. At work you take loo breaks, coffee breaks, talk to co-workers about the weekend, and any number of other things without clocking off. Some level of interruption of your day is normal, expected, and you are not cheating your boss by dealing with it.</li>
<li><em>Do</em> be honest with yourself about this: grabbing a coffee is part of the work day, watching Batman Returns probably isn‚Äôt</li>
<li><em>Try to</em> set aside a specific place to work. This may or may not be possible for you - it helps but it isn‚Äôt essential.</li>
<li><em>Try to</em> set a routine for when you start work or stop work (we have practical tips below). This may also not be possible for you, especially if there are children around the house. Be careful of your mental health here: do not set yourself a rigid routine you cannot follow, it is a very swift route to discouragement and depression.</li>
</ul>

<h2>How to Think (Manager Special)</h2>

<p>There‚Äôs something critically important you must realise as a manager used to being in an office with your team: whether you mean to or not, you almost certainly judge people‚Äôs level of work by how much time they spend at their desk. It‚Äôs super hard not to!</p>

<p>In the section below, there‚Äôs specific tips on communication - but as a manager/team lead, be deliberate in judging how things are going by people‚Äôs status updates and the work they are producing, not by how quickly they answer your chat message. People shouldn‚Äôt be on hair-trigger chat response all day (unless that‚Äôs their actual job), so give them the space to concentrate and get on with work.</p>

<p>You will also have to think hard about how to help people break tasks down into chunks that you can see updates on on a daily basis. With a team inexperienced at remote working and an increasing chance of people needing to take personal or sick days, it‚Äôs important that as many pieces of work as possible are left in a ‚Äúhandoverable‚Äù state at the end of every working day.</p>

<p>It is crucial that you (as a manager/lead) take part in the remote working culture and feel its pain points. One of the reasons we believe remote working has been so successful at NoRedInk is having built remote managers (including VPs) into the company right from the beginning of its remote working history.</p>

<h2>Practical Tips</h2>

<p>This is probably the bit you‚Äôre here for: practical hints and tips from people who have been doing this for a while. All of these are suggestions, not rules, and some may not be possible for you at the moment. Some of them even contradict! Humans are different, so pick the options that work for you.</p>

<h3>Looking after yourself</h3>

<ul>
<li>No one will be asking you if you want a coffee. Make sure you have water to hand, and set times to go and get a drink.</li>
<li>Be careful with snacks! Don‚Äôt leave food out (if you‚Äôre like me, if it is visible you will eat it)</li>
<li>It‚Äôs okay to have your pets around, especially if you live on your own.

<ul>
<li>If your cat wants to sit on your laptop you can always distract it with a hot water bottle in a blanket.</li>
</ul></li>
<li>Make sure you do some exercise. You‚Äôd be surprised how active most people‚Äôs commutes are; you‚Äôll need to be deliberate in doing something else to make up for it.</li>
<li>Be deliberate to physically move throughout the day. In the office, when a meeting starts or ends you get up and move around. At home, you plug in some headphones. If you find yourself sitting around for extended periods, set a timer to remind yourself to move.</li>
<li>Reach out to people frequently. There‚Äôs a section below on communication in general, but do not sit around at home feeling lonely: we‚Äôre aiming to be physically distant, but not emotionally/socially distant.</li>
<li>Video calls (especially one to one) can be very socially intense, even more so than in person meetings. If you are an introvert, try not to book multiple video calls back to back.</li>
<li>Your children are important, and they are dealing with a stressful unexpected change of circumstances. There will be times where they interrupt your work, have meltdowns, need a hug, or just will not sleep. Do what needs to be done for them, and decide in advance that you‚Äôre not going to feel guilty about it when it delays your work production (harder than it sounds).

<ul>
<li><em>Managers:</em> please explicitly support this. You cannot believe how much of a difference it made to my mental health to start working in a remote environment where looking after the family was explicitly affirmed.</li>
</ul></li>
</ul>

<h3>Communication (for Introverts and Extroverts)</h3>

<ul>
<li>If your job doesn&#39;t already have a strong remote culture, communicate until you feel like you&#39;re overcommunicating. (although that&#39;s true even if you do have a strong remote culture.)</li>
<li>Set up a shared document where each person tracks a high level list of what they‚Äôre working on for the day. Google Docs or Dropbox Paper are perfect for this.</li>
<li>Set up a text based chat channel for your team. Ask everyone to check it regularly during the day (maybe once per hour) so that your team can communicate without interrupting each other. It‚Äôs best not to set up alerts on this channel if you can avoid it.

<ul>
<li>Post anything in here; this is not a replacement for email, this is a replacement for ‚Äúwhat did you do last weekend‚Äù</li>
</ul></li>
<li>When using text chat, don‚Äôt get too fine grained. You might not get a reply for 30-60minutes, so don‚Äôt say ‚ÄúHi Bob‚Äù and wait for a response. Post your actual question/information straight away.</li>
<li>Video chat is pretty good for face to face meetings these days: we use Zoom (https://zoom.us/) but most of the major providers are good. We do find Zoom copes better with large groups compared to the competitors we‚Äôve tried.</li>
<li>If you end up doing this for the long haul, set up check-ins with coworkers. Like, literally put 15 or 30 minute meetings on their calendars where you just talk about life.</li>
<li>‚ÄúI enjoy hopping on a zoom with colleagues even if we&#39;re not collaborating to feel like I&#39;m in a community / to have the opportunity for office banter.‚Äù</li>
<li>Put together a ‚ÄúSocial Contact Cheatsheet‚Äù for yourself, and share it (even better, have a directory for everyone who‚Äôs remoting).

<ul>
<li>It should have things like: preference order for contact methods (‚Äúi.e. email, then chat, then video‚Äù)</li>
<li>Your contact hours (see section below on choosing working hours)</li>
<li>Whether you like to be warned before voice/video contact (with the family around, people often need a moment to set up before accepting a call)</li>
<li>Let people know if you prefer to work mostly ‚Äúalone‚Äù, in a shared social channel (i.e. group video call of people hanging out but not directly collaborating) or to actively pair work with a team member</li>
</ul></li>
<li><em>Managers:</em> It is much, much easier to build a good remote working communication environment if the whole team/department/company is remote working. If there are groups of people staying office based, make sure that you insist they take part in the remote communication channels or you will lose things between the gaps.</li>
</ul>

<h3>Processes/Routine</h3>

<ul>
<li>If possible, power down all your work stuff at the end of your day and leave it that way / put it away.</li>
<li>Create a personal routine, let people know when it affects the wider team</li>
<li>‚ÄúWhen I close my computer at 5:30pm it&#39;s done. Slack goes DND on my phone, emails are turned off etc. The way I work isn&#39;t location based (I have 3-4 different spots around the house where I camp out) but strongly time-based.‚Äù</li>
<li>Take care with social media! At home, there‚Äôs no external time constraints to how long you spend browsing it, so it‚Äôs easy to spend much longer on it than you mean to.</li>
<li>Be realistic in the routines you set; you may have to adjust timings significantly from ‚Äúnormal‚Äù to work around constraints at home.</li>
<li><em>Managers:</em> now is not a good time to insist on 9-5 working. If there are on call requirements, work out with your team who is covering when - but now is a good time to ditch ‚Äúcore office hours‚Äù.</li>
</ul>

<h3>Working Environment</h3>

<ul>
<li>Set aside some place‚Äîeven if it&#39;s just a chair or a corner of the room‚Äîthat is The Work Zone (don&#39;t do non-work there, don&#39;t do work elsewhere)</li>
<li>if that&#39;s not feasible then you can do something sensory to make it clear that it&#39;s work time. I dunno‚Ä¶ play the coffee shop channel on mynoise?</li>
<li>If possible allow yourself one extra spot or at least an outside area. Sometimes it can feel cooped-uppy sitting in the same place forever.</li>
<li>Most TVs have HDMI ports these days. I use our TV as a second monitor when I really need one</li>
<li>See if you can find a way to work standing up some of the time (although don‚Äôt stand up all day, that will murder your knees)</li>
<li>Have a ‚Äúwork‚Äù playlist of music:

<ul>
<li>chilledcow&#39;s playlists on spotify are pretty great. It&#39;s the same person who runs the &quot;lofi hop hop music for studying&quot; youtube stream</li>
<li>Low-distraction background music round-up. We swear by these in my household:</li>
<li><a href="https://www.youtube.com/watch?v=bebuiaSKtU4">lofi hip hop radio - beats to study/relax to</a></li>
<li><a href="https://www.youtube.com/watch?v=5qap5aO4i9A">lofi hip hop radio - beats to relax/study to</a></li>
<li><a href="https://www.youtube.com/watch?v=NEmIPDs9CZw">Chillhop Radio üêæ [jazzy beats / lofi hip hop]</a></li>
<li><a href="https://www.youtube.com/watch?v=ivNIpLdzh7M">Rainy Days In Tokyo [Lofi Hip Hop / Jazzhop / Chillhop Mix] - Beats to chill/study/relax</a></li>
<li><a href="https://www.youtube.com/watch?v=iEGFFyv0MH4">Nighttime Ramen üçú [jazzy beats / lofi hip hop mix]</a></li>
<li><a href="https://www.youtube.com/watch?v=DWcJFNfaw9c">lofi hip hop radio - beats to sleep/chill to</a></li>
<li><a href="https://www.youtube.com/watch?v=lTRiuFIWV54">1 A.M Study Session üìö - [lofi hip hop/chill beats]</a></li>
<li>These all also have soothing, subtly changing visuals if you happen to cast your YouTube to a TV or other monitor to play them. Sets a helpful vibe.</li>
</ul></li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/free-probabilities/">Free Probabilities</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-11-06T18:37:04+00:00" pubdate data-updated="true">Nov 6<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As the Monty Python crew would say: &quot;Now for something completely different!&quot;</p>

<blockquote>
<p>TL;DR: I&#39;m going to turn a <code>Monad</code> of probabilities into a <code>Free Monad</code> of probabilities and this is not nearly so scary as it sounds. Also, it&#39;s actually useful!</p>
</blockquote>

<p>I&#39;ve been using a bit more Haskell recently, and after watching a demo from a <a href="https://twitter.com/schtoeffel">colleague</a> I wanted to solve a problem that&#39;s been bouncing around my brain for a while.</p>

<p>I do a fair bit of both game playing and game design (in the board game and tabletop roleplaying sense of &#39;game&#39;), and I&#39;m often interested in either generating random values or investigating how likely the result of a random process is.</p>

<p>Let&#39;s give an example; if I model a dice roll with the &quot;spread&quot; of possible outcomes, it might look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="cm">{-# LANGUAGE DeriveFunctor #-}</span>
</span><span class='line'>
</span><span class='line'><span class="kr">import</span> <span class="nn">Protolude</span>
</span><span class='line'><span class="kr">import</span> <span class="nn">Data.Ratio</span>
</span><span class='line'>
</span><span class='line'><span class="kr">type</span> <span class="kt">Probability</span> <span class="ow">=</span> <span class="kt">Ratio</span> <span class="kt">Integer</span>
</span><span class='line'>
</span><span class='line'><span class="kr">newtype</span> <span class="kt">Spread</span> <span class="n">a</span> <span class="ow">=</span>
</span><span class='line'>  <span class="kt">Spread</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="kt">Probability</span><span class="p">)]</span>
</span><span class='line'>  <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Show</span><span class="p">,</span> <span class="kt">Eq</span><span class="p">,</span> <span class="kt">Functor</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nf">dice</span> <span class="ow">::</span> <span class="kt">Spread</span> <span class="kt">Integer</span>
</span><span class='line'><span class="nf">dice</span> <span class="ow">=</span> <span class="kt">Spread</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">,(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">,(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">,(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">,(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">,(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
</span><span class='line'>              <span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  
    <footer>
      <a rel="full-article" href="/free-probabilities/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/shake-generated-files/">Shake: Generated Files</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-09-09T17:00:00+01:00" pubdate data-updated="true">Sep 9<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>
<p>This post is part of a series! If you haven&#39;t already, check out <a href="/shake-the-intro/">the introduction</a> so you know what&#39;s going on.</p>
</blockquote>

<p>It&#39;s fairly obvious how dependencies work in Shake when all of the files are known while you&#39;re writing your rules.</p>

<p>And if a build rule creates a single file matching a pattern, or even a known set of files based on a pattern: that&#39;s pretty simple too. Just add a rule (<a href="https://hackage.haskell.org/package/shake-0.17.1/docs/Development-Shake.html#v:-37--62-">%&gt;</a> for building a single file, <a href="https://hackage.haskell.org/package/shake-0.17.1/docs/Development-Shake.html#v:-38--37--62-">&amp;%&gt;</a> for a list) and then when you <code>need</code> one of the outputs Shake knows how to make sure it&#39;s up to date.</p>

<p>Life becomes a little more interesting when you have a rule that takes multiple inputs (detected at run time) and creates multiple outputs (depending on what was found).</p>

<p>Let&#39;s look at an example. We&#39;re writing a computer game, and the game designers want to be able to quickly specify new types of characters that can exist. The designers and developers settle on a compromise; they&#39;ll use Yaml with a few simple type names the developers will teach the designers.</p>

<p>So the designers start churning out character types, which look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fighter</span>
</span><span class='line'><span class="l-Scalar-Plain">insaneToughness</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Integer</span>
</span><span class='line'><span class="l-Scalar-Plain">ridiculousStrength</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Integer</span>
</span></code></pre></td></tr></table></div></figure>

<p>or this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Rogue</span>
</span><span class='line'><span class="l-Scalar-Plain">sneakyTricks</span><span class="p-Indicator">:</span> <span class="s">&quot;[String]&quot;</span>
</span></code></pre></td></tr></table></div></figure>

<p>The developers, on the other hand, want to be able to consume nice safe Haskell types like so:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="kr">import</span> <span class="nn">Generated.Fighter</span>
</span><span class='line'><span class="kr">import</span> <span class="nn">Names</span>
</span><span class='line'>
</span><span class='line'><span class="nf">main</span> <span class="ow">::</span> <span class="kt">IO</span> <span class="nb">()</span>
</span><span class='line'><span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
</span><span class='line'>  <span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;Hello, &quot;</span> <span class="o">++</span> <span class="n">world</span> <span class="o">++</span> <span class="s">&quot;!&quot;</span>
</span><span class='line'>  <span class="n">print</span>
</span><span class='line'>    <span class="p">(</span> <span class="kt">Fighter</span>
</span><span class='line'>      <span class="p">{</span> <span class="n">insaneToughness</span> <span class="ow">=</span> <span class="mi">5</span>
</span><span class='line'>      <span class="p">,</span> <span class="n">ridiculousStrength</span> <span class="ow">=</span> <span class="mi">10</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>And we want our code to break at compile time if, for any reason, the Yaml files get changed and we start relying on things that no longer exist. So we&#39;re going to set up a build rule that builds a directory full of nice type safe code from a directory full of nice concise and easy to edit Yaml.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/shake-generated-files/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/shake-linting/">Shake: Linting and Formatting</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-09-09T16:00:00+01:00" pubdate data-updated="true">Sep 9<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>
<p>This post is part of a series! If you haven&#39;t already, check out <a href="/shake-the-intro/">the introduction</a> so you know what&#39;s going on.</p>
</blockquote>

<p>There&#39;s a bunch of nice tools out there these days that operate on your source code itself, such as auto-formatting and linting tools.</p>

<p>How to configure rules for this kind of thing in Shake isn&#39;t immediately obvious when you&#39;re new to using it. The first time I did it, I ended up with something that looked like this (only showing relevant rules):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'>  <span class="s">&quot;_build&quot;</span> <span class="o">&lt;/&gt;</span> <span class="s">&quot;main&quot;</span> <span class="o">&lt;.&gt;</span> <span class="n">exe</span> <span class="o">%&gt;</span> <span class="nf">\</span><span class="n">out</span> <span class="ow">-&gt;</span> <span class="kr">do</span>
</span><span class='line'>    <span class="n">src</span> <span class="ow">&lt;-</span> <span class="n">getDirectoryFiles</span> <span class="s">&quot;&quot;</span> <span class="p">[</span><span class="s">&quot;src//*.hs&quot;</span><span class="p">]</span>
</span><span class='line'>    <span class="n">cmd_</span>
</span><span class='line'>      <span class="s">&quot;hlint&quot;</span>
</span><span class='line'>      <span class="n">src</span>
</span><span class='line'>    <span class="n">need</span> <span class="n">src</span>
</span><span class='line'>    <span class="n">cmd_</span>
</span><span class='line'>      <span class="s">&quot;ghc&quot;</span>
</span><span class='line'>      <span class="p">(</span><span class="s">&quot;src&quot;</span> <span class="o">&lt;/&gt;</span> <span class="s">&quot;main.hs&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="s">&quot;-isrc&quot;</span>
</span><span class='line'>      <span class="s">&quot;-outputdir&quot;</span>
</span><span class='line'>      <span class="s">&quot;_build&quot;</span>
</span><span class='line'>      <span class="s">&quot;-o&quot;</span>
</span><span class='line'>      <span class="n">out</span>
</span></code></pre></td></tr></table></div></figure>

<p>Which at first glance looks great! I&#39;ve made sure that I find and run <code>hlint</code> (a Haskell linting tool) on the source files before I &quot;need&quot; them - remember, once a file has been &quot;needed&quot; in Shake it should not be changed. The code is simple and easy to read. <code>hlint</code> gets efficiently run on the whole list of source files all at once.</p>

<p>What&#39;s not to like?</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/shake-linting/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/shake-the-intro/">Shake: The Intro</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-09-09T15:00:00+01:00" pubdate data-updated="true">Sep 9<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At <a href="http://noredink.com">NoRedInk</a> we&#39;ve been looking into using <a href="https://shakebuild.com/">Shake</a> to incrementally build large polyglot projects. In general, it&#39;s been a great tool to work with, but there were a few things that caught us out, so I wanted to capture some of that learning before it got lost.</p>

<p>Shake is basically a domain specific language built on top of Haskell, so knowing Haskell can definitely help you unlock it&#39;s full power. But you can get a long way for basic builds by just working with some simple building blocks. You will have to jump through some extra hoops to get it installed and write your scripts with editor support if you&#39;re not using Haskell anyway - but we are, so that wasn&#39;t much of an obstacle for us!</p>

<p>I&#39;m not going to go into the really basic ideas behind Shake: the main website (linked above) has a good introductory demo, and Neil Mitchell (who wrote Shake) has given numerous (very well done) talks on the ideas behind it. What I&#39;m going to do over a few posts is look at some of the things which caught us out, and what you can do about them. I&#39;ll try and remember to link each post here as it comes out!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/shake-the-intro/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/property-based-testing-at-ndc-oslo-2018/">Property Based Testing at NDC Oslo 2018</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-09-07T15:09:07+01:00" pubdate data-updated="true">Sep 7<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This summer I spoke at NDC Oslo. It&#39;s a fantastic event (if huge!), with good talks but also excellent facilities and shared spaces for meeting up with people.</p>

<p>Over the last few weeks, they&#39;ve been publishing the videos of this year&#39;s talks, and mine appeared without me noticing. If you&#39;re interested in a deep dive session on using property based testing to test a templating library, you might find this interesting&#8230;</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/lo7zm0_7x_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<p>You can find all of the example code on GitHub: https://github.com/mavnn/ndcoslo2018</p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/working-with-noredink/">Working With NoRedInk</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-06-14T11:09:17+01:00" pubdate data-updated="true">Jun 14<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&#39;s all change here at @mavnn land: as of last week, we&#39;ve signed a full time, indefinite contract with <a href="https://www.noredink.com/">NoRedInk</a> to provide development services.</p>

<p>Given that we&#39;re a two person company, and only one of us is a developer, that means we won&#39;t be taking on any other work for the foreseeable future!</p>

<p>So, what&#39;s going on, why, and what does it mean for you?</p>

<h3>Why?</h3>

<p>The reasons come on a few levels, but they basically boil down to:</p>

<ul>
<li>I think NoRedInk are doing something really worthwhile, and they really understand remote teams</li>
<li>My family may need to move on fairly short notice at some point (<em>cough</em> Brexit <em>cough</em>) and neither on-site work nor short term contracts give much security in that context</li>
</ul>

<p>There are other reasons, and not necessarily minor ones:</p>

<ul>
<li>They have an in-depth interview process which has convinced me I can work with the engineers there</li>
<li>They&#39;re using Elm on the front end, which I really like the look of</li>
<li>They&#39;re investing in tooling and support</li>
</ul>

<p>I&#39;m only just getting started with them (last week they had a 3 day retreat I was able to join them for, this week I&#39;m at NDC Oslo), but so far I can tell you that they seem to be a great bunch of human beings with a clear, concrete, targeted plan on how to make (one aspect of) the world better. I can get behind that.</p>

<h3>What does it mean for you?</h3>

<p>Well, basically it means that @mavnn ltd will no longer be running on site training or ticketed training events, and we won&#39;t be available for bespoke development. It also means that I&#39;ll be a lot less active in the F# community; I have 3 new programming languages to learn and become productive with in fairly short order.</p>

<p>Having said that, you can probably expect some cross-ecosystem pollination talks at conferences in the future!</p>

<p>Anyway: enough about me. I now return you to your regular schedule of techy bloginess.</p>
</div>
  
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/full-stack-with-freya/">Full Stack With Freya</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-05-22T15:04:00+01:00" pubdate data-updated="true">May 22<span>nd</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday night I was about to demo a quick server/client pair with Freya and Fable, and it all went a bit wrong. Some of the issues weren&#39;t related to what I did (computers, gotta love &#39;em) but others were just bits of configuration that I didn&#39;t have at my finger tips.</p>

<p>This means it&#39;s time for a little practice for me, and a mini-tutorial for you (and future me).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/full-stack-with-freya/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/routemaster-and-the-tale-of-the-globally-unique-voters/">RouteMaster and the Tale of the Globally Unique Voters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-15T21:43:38+00:00" pubdate data-updated="true">Mar 15<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/RouteMasterIntegration/RouteMaster">RouteMaster</a> is a process manager library I&#39;ve been working on for simplifying the creation of complex work flows in message based systems.</p>

<p>One of the challenges RouteMaster faces is that once you have defined your &quot;route&quot; in RouteMaster, you generally want to run multiple instances of your process manager service in your distributed environment. This means that a lot of care has been taken to make sure that things like work flow state is handled safely, but it also causes a particular challenge for dealing with timeouts.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/routemaster-and-the-tale-of-the-globally-unique-voters/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      

  <header>
    
      <h1 class="entry-title"><a href="/cloud-native-net/">Cloud Native .NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2018-03-14T11:28:03+00:00" pubdate data-updated="true">Mar 14<span>th</span>, 2018</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&#39;re launching a new two day course this April (26th/27th), called &quot;Cloud Native .NET&quot;. Despite the slightly pretentious name the industry has come up with, what we&#39;re really talking about here are the core engineering skills of building code that can be scaled and maintained. This course is a practical workshop using .NET Core and Kuberenetes so we can see what it all looks like in practice.</p>

<p>Full details below!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/cloud-native-net/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Hire the Author</h1>
  <p>
    Want some help in any of the areas you&#8217;ve read about? Hop across to
    <a href="https://mavnn.co.uk">mavnn.co.uk</a> where you can hire the
    author.
  </p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/working-from-home/">Working From Home, Pandemic Edition</a>
      </li>
    
      <li class="post">
        <a href="/free-probabilities/">Free Probabilities</a>
      </li>
    
      <li class="post">
        <a href="/shake-generated-files/">Shake: Generated Files</a>
      </li>
    
      <li class="post">
        <a href="/shake-linting/">Shake: Linting and Formatting</a>
      </li>
    
      <li class="post">
        <a href="/shake-the-intro/">Shake: The Intro</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mavnn">@mavnn</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mavnn',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - mavnn -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script type="text/javascript">
 (function() {
   const searchbox = document.getElementById("searchbox");
   const site_query = document.getElementById("site_query").value;
   const search_query = document.getElementById("search_query");

   searchbox.onsubmit = function() {
     const q = encodeURIComponent(search_query.value);
     document.location.assign("https://google.com/search?q=" + site_query + "+" + q);
     return false;
   };
 })()
</script>


</body>
</html>
